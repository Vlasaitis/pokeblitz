<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<meta charset="UTF-8">
<title>Pokeblitz</title>
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/test2.css}">
    <link rel="stylesheet" th:href="@{/css/profile.css}">
    <!--  <link rel="icon" href="">-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&family=Roboto+Flex:opsz@8..144&display=swap" rel="stylesheet">
    <script th:src="@{/js/checkboxes.js}"></script>
</head>
<nav th:replace="~{fragments :: navigation}"></nav>
<body>

<a href="/packOpening">pack opening</a>
<a href="/setStarters">set starters</a>
<a href="/test123">test123</a>

<div class="profile-board">
    <!--STARTERS-->
    <div id="parent" th:unless="${session.player.battleStarters == null or session.player.battleStarters.isEmpty()}">
        <div class="container mx-auto mt-4">
            <div class="row">

                <div th:each="pokemon : ${session.player.battleStarters}" class="col-md-4">
                    <div class="card poke-card" style="width: 13rem;">
                            <!--IMAGE-->
                        <img th:src="'https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/' + ${pokemon.pokemonNumber} + '.png'"
                             class="card-img-top"/>
                        <div class="card-body">
                            <!--NAME-->
                            <h5 th:text="${pokemon.name}" class="card-title"></h5>
                            <!--TYPES-->
                            <span th:each="type : ${pokemon.types}">
                <span th:text="${type}" class="badge"
                      th:classappend = "${((type == 'grass') ? 'badge-grass' : '') +
                      ((type == 'fire') ? 'badge-fire' : '') +
                      ((type == 'water') ? 'badge-water' : '') +
                      ((type == 'psychic') ? 'badge-psychic' : '') +
                      ((type == 'dragon') ? 'badge-dragon' : '') +
                      ((type == 'electric') ? 'badge-electric' : '') +
                      ((type == 'ice') ? 'badge-ice' : '') +
                      ((type == 'ghost') ? 'badge-ghost' : '') +
                      ((type == 'normal') ? 'badge-normal' : '') +
                      ((type == 'rock') ? 'badge-rock' : '') +
                      ((type == 'ground') ? 'badge-ground' : '') +
                      ((type == 'fighting') ? 'badge-fighting' : '') +
                      ((type == 'bug') ? 'badge-bug' : '') +
                      ((type == 'poison') ? 'badge-poison' : '') +
                      ((type == 'flying') ? 'badge-flying' : '') +
                      ((type == 'steel') ? 'badge-steel' : '') +
                      ((type == 'shadow') ? 'badge-shadow' : '') +
                      ((type == 'fairy') ? 'badge-fairy' : '') +
                      ((type == 'dark') ? 'badge-dark' : '')
                      }">
                </span>
                        </span>
                            <!--HP-->
                            <h6 th:text="'HP: ' + ${pokemon.currentHp + '/' + pokemon.maxHp}"
                                class="starter-stats">Card subtitle</h6>
                            <h6 th:text="'ATT: ' + ${pokemon.attack}"
                                class="starter-stats">Card subtitle</h6>
                            <h6 th:text="'DEF: ' + ${pokemon.defense}"
                                class="starter-stats">Card subtitle</h6>
                            <h6 th:text="'SPD: ' + ${pokemon.speed}"
                                class="starter-stats">Card subtitle</h6>
                            <p class="card-text"></p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!--ALL POKEMONS-->
    <table th:unless="${session.player.allPokemon == null or session.player.allPokemon.isEmpty()}"
           class="table align-middle mb-0 bg-white">

        <form action="/addStartersToProfile" method="post">

            <thead class="bg-light">
            <tr>
                <th></th>
                <th>Name</th>
                <th>Type(s)</th>
                <th>Hp</th>
                <th>Attack</th>
                <th>Defense</th>
                <th>Speed</th>
                <th></th>
            </tr>
            </thead>

            <tbody>
            <tr th:each="pokemon : ${session.player.allPokemon}">
                <!--IMAGE-->
                <td >
                    <img th:src="${pokemon.image}"/>
                </td>
                <!--NAME-->
                <td>
                    <p th:text="${pokemon.name}" class="fw-normal mb-1 poke-name"></p>
                </td>
                <!--TYPE-->
                <td>
                    <div th:each="type : ${pokemon.types}">
                <span th:text="${type}" class="badge d-inline"
                      th:classappend = "${((type == 'grass') ? 'badge-grass' : '') +
                      ((type == 'fire') ? 'badge-fire' : '') +
                      ((type == 'water') ? 'badge-water' : '') +
                      ((type == 'psychic') ? 'badge-psychic' : '') +
                      ((type == 'dragon') ? 'badge-dragon' : '') +
                      ((type == 'electric') ? 'badge-electric' : '') +
                      ((type == 'ice') ? 'badge-ice' : '') +
                      ((type == 'ghost') ? 'badge-ghost' : '') +
                      ((type == 'normal') ? 'badge-normal' : '') +
                      ((type == 'rock') ? 'badge-rock' : '') +
                      ((type == 'ground') ? 'badge-ground' : '') +
                      ((type == 'fighting') ? 'badge-fighting' : '') +
                      ((type == 'bug') ? 'badge-bug' : '') +
                      ((type == 'poison') ? 'badge-poison' : '') +
                      ((type == 'flying') ? 'badge-flying' : '') +
                      ((type == 'steel') ? 'badge-steel' : '') +
                      ((type == 'shadow') ? 'badge-shadow' : '') +
                      ((type == 'fairy') ? 'badge-fairy' : '') +
                      ((type == 'dark') ? 'badge-dark' : '')
                      }">
                </span>
                        <br>
                    </div>
                </td>
                <!--HP-->
                <td>
                    <p th:text="${pokemon.currentHp + '/' + pokemon.maxHp}" class="fw-normal mb-1 poke-name"></p>
                </td>
                <!--ATTACK-->
                <td>
                    <p th:text="${pokemon.attack}" class="fw-normal mb-1"></p>
                </td>
                <!--DEFENSE-->
                <td>
                    <p th:text="${pokemon.defense}" class="fw-normal mb-1"></p>
                </td>
                <!--SPEED-->
                <td>
                    <p th:text="${pokemon.speed}" class="fw-normal mb-1"></p>
                </td>
                <td><input type="checkbox" th:name="pokemonIds" th:value="${pokemon.id}" onchange="checkCheckboxes()"></td>
            </tr>
            </tbody>
            <input type="submit" id="submit" value="Submit" disabled>
        </form>
    </table>
</div>
</body>
</html>